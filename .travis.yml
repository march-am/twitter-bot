services:
  - mysql
language: ruby
rvm: 2.5.0
bundler_args: --with test
cache: bundler
before_install:
  - gem update --system
  - cp database.travis.yml database.yml
  - mysql -e 'CREATE DATABASE twibot; CREATE DATABASE twibot_test;'
script:
  - bundle exec ridgepole -c database.yml -a -f Schemafile
  - bin/rspec
env:
  global:
    # API KEY
    - secure: gW+YMM34E8gNquXwpqTeiwGfCnLVrQI6zqWYzgITn/4zlGaeixBftzeRKUHkutbFGqNYESOZkKV+TbVrOPgpeZ6JGDCg0sK2ZBnR4P/5lh/eAKE9Lr+nN0PdRUpfD5E08NgMPYZr4lBORn2sUGW+JE31tT7epBufe0IQuDdAFNzctVsUiRweoUzHm2qgIQdwBH46FCWLaudwqhjB1B8Wxaqibi8Uly5uNGJx05T+j5ulzZxBUU1fgWxnwGJmZ6LWUGoH2+Yw8V5WrCyY/OzzbrUXjaHPKRCH8j7Qp0eUWxCGt91iF78o3xyAXXWrx9BKtdVpgM/F7tiZFMoYNzokDhM+RFIzLNr6jhQGvXhnorIU1hnBaELPFDDRtME8x2qj/Qia3Jps8Mc0y0s8+ulTkj0NLjXYWlysvW29EwK+V4W5NCBPRSHVy7BnRCjCHY6eHTmIMIKzS2OokokAgKU0RTh6XiyWuCbX1ZlV2TJuJemWIKRlPyCnOZABBw4m9kEMmqEXfeQa1pJzWpfkwkfFoo5H3BYjifk0xYB4uiDTEBkS5S24PiL1lBEDYygfezFjaiK9cnuMCbeguGFafsoVcrYcvS8h9hkMsLJteRhteYTicEhi+E0kGCuIHx+5BqbbS4ZemDHmNvmJaX68Is2gd+SDEC+P/HT+Y4JbHM9x9kY=
    - secure: hGTVQFCKjVI7qc40o8UtPefacX3VeGDq7D24t9ydGdZszF/IouFpLzTSt0kIEvA5ZAEiqyYTFhntW2wPrWTh3+IAqjoyPYqoV+ftqwQ9ngL9fw/qGjo82EVhoQjV53Ly/CYIsKMIADE1rta43XJMli1PvK32OjdWZ5kEActnXHaekXNFlMIvLmV7ea5elaNXFGBIpf7jQ0GITUhvpTipbFd/Iqpmcj8b1/XgUl2bzvmpWpp8DdCjvEp55HPkyCjg9OUsgEbYFmG/Hl9I3KTjJTaNJz3Y1k4/NOGDUY6Fa8K3PY1unkmmVCNdM13lUdgQM+KtStQmexxHoC54Qy3I+2GsdnqowFDhthqAadxcn8rLZLnHa1Pah5tgIyFIBWoSY/E1Yi46+Y8gpXNbkl/ptiXhhmzPLrj2qdaZdhUElutIylcYvpxwb1eFuqvyNuXyIeq+zmwmkR2EXojDSyux7GMxLABX1epc5lvMTWKYP058tTf09N+Tj7kaNmcsVH2w9WAg3LJaNsgYx6aEXbqQ7nIm3Ycrshx0b2XBbxqlhx9Qr7sP1yH2K9DV8ULi+UM4duFXCztFzaQsKrpgifn7+Z8FbNnVyuXKmb0eaHRFG8vMAH2RMHa5FPRgFJ7WiksASU2mZl0cw/fSgF5wI9d78LN3f8FzoeeVx+LYxnRmh3E=
    - secure: ckE/jJ00YAm0ckhLIdWHwp6cs+XLv7SgzKheq/BS4d4taVTUD19p4D09ZsaHTdW4NGu3jd/TWPjPlSXklq7L0wCjNMaRUTISIuzO3fzuaOBrLUuUpJ7E6Dke1nhoKXuNa4Q36JtgRxIN9Hwgbh8uQu56yPEIMFkdDB8l4y7Ft1Daag/SKSrC+1aF45OcLRwTAM3Jcgc76xS9XBTAN9ePsK+fV6SoN7LPs+Q/R98RjLxHJqHs27CfBDmpcYMAkyZMEJ4aTEfG3NuRsqX/U1Ccalm+i4W0lq1OZaWvNkZHSG8zGsfG0C6zEpaMGdlevU4vkAqyhU5Vl82ntrfXJSdBRqITVmccqxxP+mtB27q+dmti1L7XCX8xpoyuowSARaRr2pVoAX5XjwvQKXVigRw7pTUlYx07WTj4WD/waRu+x2IWgugsdvD4RWzbr5+EEFBZ0E8di01VKSiO1l1bp5tYl5IWSxCiYGszZOn3QGXvUjezfbtKgksOgr1YEHRNn6ah+dhAaR7EmD8oYsEhe/Uayv6CmzItbppd+MydnGIOD8AaFfG3lsaVJlyOjiYJPMJIS17H6p7OxAdpIEiOHHWOSLV2vVEVKHf28OTGSeC1lTit1O5kkKgsrldREuFA+Abkt3tHrlzUvNQ4xqdCzYBBDjNPyjmEqevLvCVy7TzWCLQ=
    - secure: FeoXiZie6kFrVQERylkL3OSPKd/6LWIJVlsIjI+G7kEyE3fPpaAE5XK1vQLWi/mRP3qg3aHhGEzKi8I+a9EYd2GnLi6yVp4FR/2kwokb5+5rWEu+vUSWR49Q5EnzcGsv8h7R3Is/+qJSaHJuwfyPGj/7jfEfX+Snli5ptJbrwsi0UHEOQ81NZEi9A/j3czBTPnejeftrBfKHdCFts7YWWooT/vmI7mTePL8SvIgwhgh9/sN5pyJlu3ej6JRFnvRNPoNaNEPwRk7wN7a8FdPfpDqsGFb/fNd8WWOTTB5BouS7/HjupPqqMQA3ZOXet+TH/QOuc2Als54W6lDBiik5OJeu0/pXS4Y4mnoifLsqWc+fZzRp8zw54SH6M2+L2uzZrfsRdSgMtOvwg7gD2Wr84hnADUcc8YJPHeGL0zwVLmJWfy0TY91htjVK6Hw5iZ4W9vD3f4/T3bvf5YQr+BTVWbZtC7PfbbkYi2bQhCe2GZqw2s5A21lpPB1Y1xIb1cjH4fm/pF95ZK/LkUC6YgykEVLND8zTmBkjtbUtyHoC6qrXmPD5t6q1Or0rFuPTquO6Zub8qyiaVBg/yrWdPvBEOdooMxWn2WYnxZ3jJf2iwaHEiYfIXqkhIewXi+WezaWGC2xQ1/Oh32UrbBJJyKREeqSvBEytnDLFVASQ+H0srXQ=i
